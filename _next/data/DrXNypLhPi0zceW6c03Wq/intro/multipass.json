{"pageProps":{"post":{"title":"Multipass関連のトラブル","content":"<h1>Multipass 関連のトラブル</h1>\n<hr>\n<p><strong>目次</strong></p>\n<ul>\n<li><a href=\"#1\">(1) Multipass が起動しない</a></li>\n<li><a href=\"#2\">(2) Microsoft Hyper-V が『Unavailable on Home edition」が選択できない</a></li>\n<li><a href=\"#3\">(3) 「指定されたファイルが見つかりません」というエラーが出る</a></li>\n<li><a href=\"#4\">(4) 「launch failed: The following errors occurred: Instance stopped while starting」というエラーが出る</a></li>\n</ul>\n<hr>\n<h2>Multipass が起動しない <a id=\"1\"></a></h2>\n<p>Multipass を起動しようとしたときに、</p>\n<pre><code>launch failed: Available disk (2273054720 bytes) below minimum for this image (2361393152 bytes)\n</code></pre>\n<p>というエラーメッセージが出ることがあります。</p>\n<p>これは、PC 中のディスク容量が少なくなっていることを表します。不要なファイルを削除してください。</p>\n<p>昨年度版から引き続き入門コースに取り込んでいる場合は、<strong>Docker イメージのキャッシュ</strong>が原因でこのメッセージが出ることがあります。この場合は、</p>\n<pre><code>docker system prune --volumes\n</code></pre>\n<p>をお試しください。</p>\n<h2>Microsoft Hyper-V が『Unavailable on Home edition」が選択できない <a id=\"2\"></a></h2>\n<p><a href=\"https://www.virtualbox.org/wiki/Downloads\">https://www.virtualbox.org/wiki/Downloads</a> より VirtualBox をダウンロード・インストールし、『Oracle VM VirtualBox』を選択して受講を進めてください。</p>\n<p>関連：<a href=\"https://www.nnn.ed.nico/questions/29536\">「Multipass のインストール」の節でまず、Microsoft Hyper-V が『Unavailable on Home edition」と書いてあり、選択できません</a></p>\n<h2>「指定されたファイルが見つかりません」というエラーが出る <a id=\"3\"></a></h2>\n<p>仮想化環境が用意できていない可能性が高いです。</p>\n<ul>\n<li>・VirtualBox をダウンロードし、インストールしているか確認してください。\n<ul>\n<li>・していない場合は <a href=\"https://www.virtualbox.org/wiki/Downloads\">https://www.virtualbox.org/wiki/Downloads</a> より ダウンロードしてインストールを済ませてください。</li>\n</ul>\n</li>\n</ul>\n<p>関連：<a href=\"https://www.nnn.ed.nico/questions/29528\">Ubuntu の起動がうまくいきませんでした。(指定されたファイルが見つかりません。と表示されました)</a></p>\n<h2>~「launch failed: The following errors occurred: Instance stopped while starting」というエラーが出る~ <a id=\"4\"></a></h2>\n<h3>※このエラーは6月6日に公開されたUbuntu イメージにおいて修正されました。※</h3>\n<p>もしこのようなエラーが出た際は折りたたんでありますのでこちらを参考にしてください。</p>\n<details><summary>対処法</summary><div>\n<p>お使いの環境がMacOSであるならUbuntu 22.04イメージのダウンロードに失敗している可能性が高いです。</p>\n<p>まず、以下のコマンドを実行してVM インスタンスの状態を確認してください。</p>\n<pre><code>multipass list\n</code></pre>\n<p>もし、以下のような表示が出たらVM インスタンスの削除が必要です。</p>\n<pre><code>Name                    State             IPv4             Image\nlinux-stduy                 Starting          --               Ubuntu 22.04 LTS\n</code></pre>\n<p>上の表示ではなく、このような表示が出た人はVM インスタンスの削除は必要ありません。</p>\n<pre><code>No instances found.\n</code></pre>\n<p>VM インスタンスの削除には、以下のコマンドを一行ずつ実行してください。</p>\n<pre><code>multipass delete linux-study\nmultipass purge\n</code></pre>\n<p>再度以下のコマンドを実行してください。</p>\n<pre><code>multipass list\n</code></pre>\n<p>以下の表示が出たら問題はありません。</p>\n<pre><code>No instances found.\n</code></pre>\n<p>VM インスタンスの削除が完了したら、Ubuntu 22.04 のイメージのダウンロードを行います。\n以下の二つのコマンドを実行してください。それぞれ少し時間がかかると思います。</p>\n<pre><code>curl -L -o /var/root/Library/Caches/multipassd/vault/images/jammy-20230602/ubuntu-22.04-server-cloudimg-amd64-vmlinuz-generic https://cloud-images.ubuntu.com/releases/jammy/release-20230602/unpacked/jammy-server-cloudimg-amd64-vmlinuz-generic\ncurl -L -o /var/root/Library/Caches/multipassd/vault/images/jammy-20230602/ubuntu-22.04-server-cloudimg-amd64-initrd-generic https://cloud-images.ubuntu.com/releases/jammy/release-20230602/unpacked/jammy-server-cloudimg-amd64-initrd-generic\n</code></pre>\n<p>以上が無事に成功したらVM インスタンスが起動できるようになっているはずです。実際に起動してみましょう。\n以下のコマンドでVM インスタンスを起動してください。</p>\n<pre><code>multipass launch 22.04 --name linux-study\n</code></pre>\n<p>以下の表示が出れば起動できています。</p>\n<pre><code>Launched: linux-study\n</code></pre>\n</div></details>\n"}},"__N_SSG":true}